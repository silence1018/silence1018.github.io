<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/logo.jpg">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/logo.jpg">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"yoursite.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"right","display":"always","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="域名解析 域名解析就是将域名和服务器的IP关联起来，访问网站时就可以直接输入域名访问了。  首先进入腾讯云的控制台界面，鼠标悬浮在左上角云产品，出现搜索框，输入解析，选择DNS 解析 DNSPod(吐槽一下，这个域名的位置我找了老半天。。。。。。)，在域名列表中找到你要解析的域名，点击解析，进入新页面后，点击添加记录 主机记录：这里选择www和@ 一般我们只需要添加上面这两条就够了，即解析带www">
<meta property="og:type" content="article">
<meta property="og:title" content="测试文件2">
<meta property="og:url" content="http://yoursite.com/2023/07/18/%E6%B5%8B%E8%AF%95%E6%96%87%E4%BB%B62/index.html">
<meta property="og:site_name" content="">
<meta property="og:description" content="域名解析 域名解析就是将域名和服务器的IP关联起来，访问网站时就可以直接输入域名访问了。  首先进入腾讯云的控制台界面，鼠标悬浮在左上角云产品，出现搜索框，输入解析，选择DNS 解析 DNSPod(吐槽一下，这个域名的位置我找了老半天。。。。。。)，在域名列表中找到你要解析的域名，点击解析，进入新页面后，点击添加记录 主机记录：这里选择www和@ 一般我们只需要添加上面这两条就够了，即解析带www">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200830171614574.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjIwNTEwMQ==,size_16,color_FFFFFF,t_70#pic_center">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200830171728941.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjIwNTEwMQ==,size_16,color_FFFFFF,t_70#pic_center">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200830171836970.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjIwNTEwMQ==,size_16,color_FFFFFF,t_70#pic_center">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200830161120407.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjIwNTEwMQ==,size_16,color_FFFFFF,t_70#pic_center">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200830163009199.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjIwNTEwMQ==,size_16,color_FFFFFF,t_70#pic_center">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200830164648191.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjIwNTEwMQ==,size_16,color_FFFFFF,t_70#pic_center">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200830165013423.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjIwNTEwMQ==,size_16,color_FFFFFF,t_70#pic_center">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200830165431246.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjIwNTEwMQ==,size_16,color_FFFFFF,t_70#pic_center">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200830133653710.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjIwNTEwMQ==,size_16,color_FFFFFF,t_70#pic_center">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200830134121685.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjIwNTEwMQ==,size_16,color_FFFFFF,t_70#pic_center">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200830154109655.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjIwNTEwMQ==,size_16,color_FFFFFF,t_70#pic_center">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200830155534313.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjIwNTEwMQ==,size_16,color_FFFFFF,t_70#pic_center">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200830221425254.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjIwNTEwMQ==,size_16,color_FFFFFF,t_70#pic_center">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200829182935370.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjIwNTEwMQ==,size_16,color_FFFFFF,t_70#pic_center">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200829183118197.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjIwNTEwMQ==,size_16,color_FFFFFF,t_70#pic_center">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200829183422586.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjIwNTEwMQ==,size_16,color_FFFFFF,t_70#pic_center">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200830210200225.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjIwNTEwMQ==,size_16,color_FFFFFF,t_70#pic_center">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200830210225661.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjIwNTEwMQ==,size_16,color_FFFFFF,t_70#pic_center">
<meta property="og:image" content="https://img-blog.csdnimg.cn/2020083021030061.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjIwNTEwMQ==,size_16,color_FFFFFF,t_70#pic_center">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200830210938617.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjIwNTEwMQ==,size_16,color_FFFFFF,t_70#pic_center">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200830211319813.png#pic_center">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200830211521660.png#pic_center">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200830204915221.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjIwNTEwMQ==,size_16,color_FFFFFF,t_70#pic_center">
<meta property="og:image" content="https://img-blog.csdnimg.cn/0b72c70dadec4ab48b86b9261a14d839.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAX-aciOWNiuWwj-WknOabsg==,size_18,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://img-blog.csdnimg.cn/d2e1cd0d61614b489b2c45e34a5a5f81.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAX-aciOWNiuWwj-WknOabsg==,size_20,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://img-blog.csdnimg.cn/6b61f5e202664491aa993ee65a13ed43.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAX-aciOWNiuWwj-WknOabsg==,size_20,color_FFFFFF,t_70,g_se,x_16">
<meta property="article:published_time" content="2023-07-18T06:26:20.000Z">
<meta property="article:modified_time" content="2023-07-18T06:26:35.965Z">
<meta property="article:author" content="silence1018">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://img-blog.csdnimg.cn/20200830171614574.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjIwNTEwMQ==,size_16,color_FFFFFF,t_70#pic_center">

<link rel="canonical" href="http://yoursite.com/2023/07/18/%E6%B5%8B%E8%AF%95%E6%96%87%E4%BB%B62/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>测试文件2 | </title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title"></h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>

  <a href="https://github.com/liaijie" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2023/07/18/%E6%B5%8B%E8%AF%95%E6%96%87%E4%BB%B62/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/logo.png">
      <meta itemprop="name" content="silence1018">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          测试文件2
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2023-07-18 14:26:20 / 修改时间：14:26:35" itemprop="dateCreated datePublished" datetime="2023-07-18T14:26:20+08:00">2023-07-18</time>
            </span>

          
            <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span id="busuanzi_value_page_pv"></span>
            </span><br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>7.6k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>7 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h4 id="域名解析"><a href="#域名解析" class="headerlink" title="域名解析"></a>域名解析</h4><blockquote>
<p>域名解析就是将域名和服务器的IP关联起来，访问网站时就可以直接输入域名访问了。</p>
</blockquote>
<p>首先进入腾讯云的控制台界面，鼠标悬浮在左上角<code>云产品</code>，出现搜索框，输入<code>解析</code>，选择<code>DNS 解析 DNSPod</code>(吐槽一下，这个域名的位置我找了老半天。。。。。。)，在域名列表中找到你要解析的域名，点击<code>解析</code>，进入新页面后，点击<code>添加记录</code></p>
<p><strong>主机记录：这里选择<code>www</code>和<code>@</code></strong></p>
<p><img  referrerpolicy="no-referrer"  src="https://img-blog.csdnimg.cn/20200830171614574.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjIwNTEwMQ==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>一般我们只需要添加上面这两条就够了，即解析带wwww和不带wwww的</p>
<p><strong>记录类型：这里选择<code>A</code></strong><br><img  referrerpolicy="no-referrer"  src="https://img-blog.csdnimg.cn/20200830171728941.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjIwNTEwMQ==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br><strong>记录值：填服务器外网IP</strong></p>
<p>添加的记录如下方红框所示：<br><img  referrerpolicy="no-referrer"  src="https://img-blog.csdnimg.cn/20200830171836970.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjIwNTEwMQ==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<p>一般我们只需要添加上面这两条就够了，即解析带<code>wwww</code>和不带<code>wwww</code>的，记录值填服务器外网IP</p>
<h4 id="服务器配置"><a href="#服务器配置" class="headerlink" title="服务器配置"></a>服务器配置</h4><h5 id="修改实例密码"><a href="#修改实例密码" class="headerlink" title="修改实例密码"></a>修改实例密码</h5><p><img  referrerpolicy="no-referrer"  src="https://img-blog.csdnimg.cn/20200830161120407.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjIwNTEwMQ==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<p>第一次创建实例后，腾讯云会生成一个随机密码，为了便于自己记忆，建议进行修改，同时，该密码也是实例所安装的<code>CentOS</code>系统的密码，后面使用<code>Xshell</code>连接服务器时就是输入这个</p>
<h5 id="安全组配置"><a href="#安全组配置" class="headerlink" title="安全组配置"></a>安全组配置</h5><p><a href="https://cloud.tencent.com/document/product/213/39740" target="_blank" rel="noopener">腾讯云文档</a></p>
<p><img  referrerpolicy="no-referrer"  src="https://img-blog.csdnimg.cn/20200830163009199.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjIwNTEwMQ==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<p><code>入站</code>就是其他服务器或者程序访问你，<code>出站</code>就是你访问其他服务器或者程序，通过创建入站和出站规则，从而阻挡或者允许特定程序或者端口进行连接</p>
<p>安全组配置里面主要注意<code>入站规则</code>的配置，只有规则里面添加了的协议或者端口号，才能访问该服务器。</p>
<p>你可以点击一键放通，会放通常用端口和协议：</p>
<ul>
<li><code>22</code>: ssh默认端口，<code>Xshell</code>连接需要用到</li>
<li><code>3389</code>：Windows 2000(2003) Server远程桌面的服务端口</li>
<li><code>80</code>: 是为HTTP即超文本传输协议开放的端口，浏览器访问http协议网站的默认端口</li>
<li><code>443</code>: 主要是用于HTTPS服务，浏览器访问https网站的端口</li>
<li><code>20</code>：用于ftp，21端口用于连接，20端口用于传输数据。</li>
<li><code>21</code>：用于ftp，21端口用于连接，20端口用于传输数据。</li>
<li><code>ICMP(协议)</code>：ICMP（Internet Control Message Protocol）Internet控制报文协议。它是TCP/IP协议簇的一个子协议，用于在IP主机、路由器之间传递控制消息</li>
</ul>
<p><img  referrerpolicy="no-referrer"  src="https://img-blog.csdnimg.cn/20200830164648191.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjIwNTEwMQ==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<p>一键放通可能无法满足你的所有需求，所以你也可以点击<code>添加规则</code>手动添加,如下图所示：</p>
<ul>
<li>类型：列出常用程序及端口号，选择下拉列表中的某一项，会自动填充后面的内容</li>
<li>来源：网段，如果第一项选择的是自定义，这里填<code>0.0.0.0/0</code>，表示所有网段</li>
<li>协议端口：如果是添加协议，填协议名称，如果是添加某个端口号，需要填<code>协议:端口号</code>,例如<code>TCP:1234</code></li>
</ul>
<p><img  referrerpolicy="no-referrer"  src="https://img-blog.csdnimg.cn/20200830165013423.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjIwNTEwMQ==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<p><img  referrerpolicy="no-referrer"  src="https://img-blog.csdnimg.cn/20200830165431246.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjIwNTEwMQ==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<h4 id="使用Xshell连接服务器"><a href="#使用Xshell连接服务器" class="headerlink" title="使用Xshell连接服务器"></a>使用Xshell连接服务器</h4><p><img  referrerpolicy="no-referrer"  src="https://img-blog.csdnimg.cn/20200830133653710.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjIwNTEwMQ==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<ul>
<li><strong>名称</strong>：给该连接起名，可随意填写</li>
<li><strong>协议</strong>：这里选择<code>SSH协议</code></li>
<li><strong>主机</strong>：服务器外网 IP</li>
<li><strong>端口号</strong>：<code>SSH</code>协议默认端口号是22</li>
</ul>
<p><strong><em>注意</em></strong>：确保在云服务器安全组的入口规则中添加<code>22</code>端口</p>
<p><img  referrerpolicy="no-referrer"  src="https://img-blog.csdnimg.cn/20200830134121685.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjIwNTEwMQ==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<ul>
<li><strong>方法</strong>：连接方式，默认使用密码连接，无需修改</li>
<li><strong>用户名</strong>：不是云服务器控制台的实例名，是<code>CentOS</code>默认用户名，这里只能填<code>root</code>，除非去系统修改默认用户名</li>
<li><strong>密码</strong>：云服务器的登陆密码,初次创建实例后，会发在站内信中，也可在控制台中修改</li>
</ul>
<h4 id="安装宝塔面板"><a href="#安装宝塔面板" class="headerlink" title="安装宝塔面板"></a>安装宝塔面板</h4><p><img  referrerpolicy="no-referrer"  src="https://img-blog.csdnimg.cn/20200830154109655.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjIwNTEwMQ==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -<span class="keyword">y</span> wget &amp;&amp; wget -O install.<span class="keyword">sh</span> http://download.bt.<span class="keyword">cn</span>/install/install_6.<span class="number">0</span>.<span class="keyword">sh</span> &amp;&amp; <span class="keyword">sh</span> install.<span class="keyword">sh</span> <span class="number">2</span>f7625</span><br></pre></td></tr></table></figure>

<p>复制以上命令，粘贴在<code>Xshelll</code>命令面板，回车，等待安装即可,安装完成后，最后会输出如下：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">外网面板地址: http:<span class="comment">//***.***.***.***:8888/d****db</span></span><br><span class="line">内网面板地址: http:<span class="comment">//***.***.***.***:8888/d****db</span></span><br><span class="line">username: ht****<span class="keyword">as</span></span><br><span class="line">password: b2****bc</span><br><span class="line">If you cannot access the panel,</span><br><span class="line">release the following panel port [<span class="number">1018</span>] <span class="keyword">in</span> the security group</span><br><span class="line">若无法访问面板，请检查防火墙/安全组是否有放行面板[<span class="number">8888</span>]端口</span><br></pre></td></tr></table></figure>
<p>复制以上内容保存在本地，以防忘记！！！</p>
<p>确保在云服务器安全组的<code>入站规则</code>中开放<code>8888</code>端口，因为宝塔面板的默认端口就是<code>8888</code>,在浏览器地址栏输入上一步生成的<code>外网面板地址</code>，输入账号、密码，即可打开宝塔面板</p>
<h4 id="宝塔配置"><a href="#宝塔配置" class="headerlink" title="宝塔配置"></a>宝塔配置</h4><h5 id="添加站点"><a href="#添加站点" class="headerlink" title="添加站点"></a>添加站点</h5><p><img  referrerpolicy="no-referrer"  src="https://img-blog.csdnimg.cn/20200830155534313.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjIwNTEwMQ==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<p>域名栏：如果已经做了备案和域名解析可以输入域名，如果没有，可以输入服务器外网IP，提交之后，会在<code>/www/wwwroot</code>下创建一个以你填写的域名或者IP为名的文件夹，这个文件夹就是站点根目录</p>
<h5 id="面板设置"><a href="#面板设置" class="headerlink" title="面板设置"></a>面板设置</h5><p><img  referrerpolicy="no-referrer"  src="https://img-blog.csdnimg.cn/20200830221425254.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjIwNTEwMQ==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<ul>
<li>面板端口：<code>外网面板访问地址</code>中的端口，如果这里修改，记得在服务器安全组的<code>入口规则</code>和宝塔面板的<code>安全</code>中添加放行你设置的端口号</li>
<li>安全入口：<code>外网面板访问地址</code>中端口号后面那传随机码，你可以修改成自己想要的，修改后必须通过该地址访问</li>
<li>面板用户和密码：登陆宝塔面板的账号密码</li>
</ul>
<h4 id="宝塔面板访问地址、账号、密码找回及修改"><a href="#宝塔面板访问地址、账号、密码找回及修改" class="headerlink" title="宝塔面板访问地址、账号、密码找回及修改"></a>宝塔面板访问地址、账号、密码找回及修改</h4><p>如果没有修改宝塔面板的安全入口，而且也没有在本地保存，导致忘记入口地址，或者忘记登陆账号密码，无法进入宝塔面板，可以在使用<code>Xshell</code>连接服务器后，通过一下命令查看入口地址及账号或修改密码：</p>
<p><strong>/etc/init.d/bt default（打开命令面板）</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-16-10-centos ~]# /etc/init.d/bt</span><br><span class="line">===============宝塔面板命令行==================</span><br><span class="line">(<span class="number">1</span>) 重启面板服务           (<span class="number">8</span>) 改面板端口</span><br><span class="line">(<span class="number">2</span>) 停止面板服务           (<span class="number">9</span>) 清除面板缓存</span><br><span class="line">(<span class="number">3</span>) 启动面板服务           (<span class="number">10</span>) 清除登录限制</span><br><span class="line">(<span class="number">4</span>) 重载面板服务           (<span class="number">11</span>) 取消入口限制</span><br><span class="line">(<span class="number">5</span>) 修改面板密码           (<span class="number">12</span>) 取消域名绑定限制</span><br><span class="line">(<span class="number">6</span>) 修改面板用户名         (<span class="number">13</span>) 取消IP访问限制</span><br><span class="line">(<span class="number">7</span>) 强制修改MySQL密码      (<span class="number">14</span>) 查看面板默认信息</span><br><span class="line">(<span class="number">22</span>) 显示面板错误日志      (<span class="number">15</span>) 清理系统垃圾</span><br><span class="line">(<span class="number">23</span>) 关闭BasicAuth认证     (<span class="number">16</span>) 修复面板(检查错误并更新面板文件到最新版)</span><br><span class="line">(<span class="number">24</span>) 关闭谷歌认证          (<span class="number">17</span>) 设置日志切割是否压缩</span><br><span class="line">(<span class="number">25</span>) 设置是否保存文件历史副本  (<span class="number">18</span>) 设置是否自动备份面板</span><br><span class="line">(<span class="number">0</span>) 取消</span><br><span class="line">===============================================</span><br><span class="line">请输入命令编号：<span class="number">5</span></span><br><span class="line">===============================================</span><br><span class="line">正在执行(<span class="number">5</span>)...</span><br><span class="line">===============================================</span><br><span class="line">请输入新的面板密码：</span><br></pre></td></tr></table></figure>
<p><strong>bt default（查看入口地址和账号密码）</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-16-10-centos ~]# bt default</span><br><span class="line">==================================================================</span><br><span class="line">BT-Panel <span class="keyword">default</span> info!</span><br><span class="line">==================================================================</span><br><span class="line">外网面板地址: http:<span class="comment">//***.****.***.***:****/XXXX</span></span><br><span class="line">内网面板地址: http:<span class="comment">//***.****.***.***:****/XXXX</span></span><br><span class="line">*以下仅为初始默认账户密码，若无法登录请执行bt命令重置账户/密码登录</span><br><span class="line">username: XXX</span><br><span class="line">password: **************</span><br><span class="line">If you cannot access the panel,</span><br><span class="line">release the following panel port [XXXX] <span class="keyword">in</span> the security group</span><br><span class="line">若无法访问面板，请检查防火墙/安全组是否有放行面板[XXXX]端口</span><br><span class="line">==================================================================</span><br></pre></td></tr></table></figure>
<p><em>注意：这里的密码只显示初始密码，即自己更改系统生成的密码后重置的密码，如果你后续又更改了密码，这里还是只显示第一次的密码</em></p>
<p><strong>cd /www/server/panel &amp;&amp; python tools.py panel 新密码（重置密码）</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-16-10-centos panel]# cd /www/server/panel &amp;&amp; python tools.py panel XXXXXXX</span><br><span class="line">XXXX</span><br></pre></td></tr></table></figure>
<p><strong>rm -f /www/server/panel/data/*.login（清除登录限制）</strong></p>
<p>如果提示多次登录失败，暂时禁止登录 可以使用此命令清除登录限制</p>
<p>除了以上方法，也可以直接关闭安全入口，关闭之后，直接使用<code>域名或者IP:8888</code>(宝塔面板默认端口是8888)访问宝塔面板，就没有后面那一串随机码，不过不建议这么做，可以在关闭之后，登陆面板，然后再在<code>面板设置</code>中添加安全入口，建议设置为自己熟悉但是不常见的</p>
<h4 id="网站访问-默认端口80"><a href="#网站访问-默认端口80" class="headerlink" title="网站访问(默认端口80)"></a>网站访问(默认端口80)</h4><p>请确保：</p>
<ul>
<li>云服务器安全组的<code>入站规则</code>中开放<code>80</code>端口</li>
<li>宝塔面板<code>安全</code>选项中放行<code>80</code>端口(默认已放行)</li>
</ul>
<p>浏览器地址栏输入<code>www.xxx.xxxx</code>即可访问</p>
<h4 id="FPT功能"><a href="#FPT功能" class="headerlink" title="FPT功能"></a>FPT功能</h4><ul>
<li>云服务器安全组的<code>入站规则</code>中开放<code>21</code>、<code>22</code>端口和被动端口<code>39000-40000</code></li>
<li>宝塔面板<code>安全</code>选项中放行<code>21</code>、<code>22</code>端口和被动端口<code>39000-40000</code></li>
<li><code>Pure-Ftpd</code>配置文件找到<code>#ForcePassiveIP 192.168.0.1</code>修改为<code>ForcePassiveIP                119.45.220.46</code>,记得去掉前面的<code>#</code></li>
<li>在宝塔内<code>ftp</code>插件中添加一个<code>fpt</code>账户，设置账号密码</li>
<li>浏览器输入<code>ftp</code>地址<code>ftp://你的服务器外网IP:21</code>,输入<code>ftp</code>账号密码(并不是所有浏览器都支持ftp)</li>
</ul>
<p>FTP协议默认端口:<code>21</code></p>
<p>FTP主动模式数据端口: <code>20</code></p>
<p>FTP被动模端口范围:<code>39000-40000</code></p>
<h4 id="mysql和phpmyadmin"><a href="#mysql和phpmyadmin" class="headerlink" title="mysql和phpmyadmin"></a>mysql和phpmyadmin</h4><ul>
<li>云服务器安全组的<code>入站规则</code>中开放<code>3306</code>、<code>888</code>端口</li>
<li>宝塔面板<code>安全</code>选项中放行<code>3306</code>、<code>888</code>端口</li>
</ul>
<p>mysql默认端口:<code>3306</code></p>
<p>phpmyadmin默认端口: <code>888</code></p>
<p><code>phpmyadmin</code>是一个可视化的<code>mysql</code>管理工具</p>
<p><img  referrerpolicy="no-referrer"  src="https://img-blog.csdnimg.cn/20200829182935370.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjIwNTEwMQ==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br><img  referrerpolicy="no-referrer"  src="https://img-blog.csdnimg.cn/20200829183118197.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjIwNTEwMQ==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<p><code>phpmyadmin</code>设置里面的密码不是<code>phpmyadmin</code>的登陆密码，是在打开<code>phpmyadmin</code>的外网访问地址前加了一道安全，会有一个弹窗，输入这里设置的账号密码，然后才会进入<code>phpmyadmin</code>的登陆界面，<code>phpmyadmin</code>的登陆密码就是<code>mysql</code>的密码，在宝塔面板中是在<code>数据库</code>中的<code>root密码</code>中，点击可以修改密码！</p>
<p><img  referrerpolicy="no-referrer"  src="https://img-blog.csdnimg.cn/20200829183422586.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjIwNTEwMQ==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<h4 id="配置SSL证书"><a href="#配置SSL证书" class="headerlink" title="配置SSL证书"></a>配置SSL证书</h4><p>默认情况下，我们的网站是<code>http</code>协议，是不安全的，在谷歌浏览器左上角会显示<code>不安全</code>，所以我们可以安装<code>SSL</code>证书，使用<code>https</code>协议，因为<code>https</code>协议使用<code>443</code>端口，所以需要在服务器安全组的入站规则添加<code>443</code>端口，并在宝塔面板的<code>安全</code>中放行<code>443</code>端口</p>
<h5 id="申请免费SSL证书"><a href="#申请免费SSL证书" class="headerlink" title="申请免费SSL证书"></a>申请免费<code>SSL</code>证书</h5><p>腾讯云控制台界面，鼠标右上角<code>云产品</code>悬浮，输入<code>SSL</code>,选择<code>SSL</code>证书</p>
<p><img  referrerpolicy="no-referrer"  src="https://img-blog.csdnimg.cn/20200830210200225.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjIwNTEwMQ==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<p><img  referrerpolicy="no-referrer"  src="https://img-blog.csdnimg.cn/20200830210225661.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjIwNTEwMQ==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<p><img  referrerpolicy="no-referrer"  src="https://img-blog.csdnimg.cn/2020083021030061.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjIwNTEwMQ==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<p>按上图描述，输入域名，邮箱，点击下一步</p>
<p><img  referrerpolicy="no-referrer"  src="https://img-blog.csdnimg.cn/20200830210938617.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjIwNTEwMQ==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<p>申请完成后需要等待审核，一般十几分钟</p>
<h5 id="安装SSL证书"><a href="#安装SSL证书" class="headerlink" title="安装SSL证书"></a>安装SSL证书</h5><p>证书申请审核通过后，下载证书文件并解压</p>
<p><img  referrerpolicy="no-referrer"  src="https://img-blog.csdnimg.cn/20200830211319813.png#pic_center" alt="在这里插入图片描述"></p>
<p>证书有多个版本供选择，这取决于你使用的服务器软件，我这里是<code>nginx</code>,所以选择打开<code>Nginx</code>文件夹</p>
<p><img  referrerpolicy="no-referrer"  src="https://img-blog.csdnimg.cn/20200830211521660.png#pic_center" alt="在这里插入图片描述"></p>
<ul>
<li><code>1_www.laj.cool_bundle.crt</code> 证书文件</li>
<li><code>2_www.laj.cool.key</code> 私钥文件</li>
</ul>
<p>将以上两个文件复制到服务器<code>nginx</code>安装目录下的配置目录下<code>/www/server/nginx/conf</code>，然后修改基本配置文件<code>/www/server/nginx/conf/nginx.conf</code>,在原有的<code>server</code>上面再添加一个<code>server</code>项</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">     <span class="comment">#SSL 访问端口号为 443</span></span><br><span class="line">     <span class="attribute">listen</span> <span class="number">443</span> ssl; </span><br><span class="line">     <span class="comment">#填写绑定证书的域名（根据自己的域名填写）</span></span><br><span class="line">     <span class="attribute">server_name</span> xxx.xxx.xxx; </span><br><span class="line">     <span class="comment">#证书文件名称 （根据自己的证书名称填写）</span></span><br><span class="line">     <span class="attribute">ssl_certificate</span> 1_xxx.xxx.xxx_bundle.crt; </span><br><span class="line">     <span class="comment">#私钥文件名称 （根据自己的私钥名称填写）</span></span><br><span class="line">     <span class="attribute">ssl_certificate_key</span> 2_xxx.xxx.xxx.key; </span><br><span class="line">     <span class="attribute">ssl_session_timeout</span> <span class="number">5m</span>;</span><br><span class="line">     <span class="comment">#请按照以下协议配置</span></span><br><span class="line">     <span class="attribute">ssl_protocols</span> TLSv1 TLSv1.<span class="number">1</span> TLSv1.<span class="number">2</span>; </span><br><span class="line">     <span class="comment">#请按照以下套件配置，配置加密套件，写法遵循 openssl 标准。</span></span><br><span class="line">     <span class="attribute">ssl_ciphers</span> ECDHE-RSA-AES128-GCM-SHA256:HIGH:!aNULL:!MD5:!RC4:!DHE; </span><br><span class="line">     <span class="attribute">ssl_prefer_server_ciphers</span> <span class="literal">on</span>;</span><br><span class="line">    </span><br><span class="line">     <span class="attribute">location</span> / &#123;</span><br><span class="line">        <span class="comment">#网站主页路径。此路径仅供参考，具体请您按照实际目录操作。（根据自己的站点路径填写）</span></span><br><span class="line">         <span class="attribute">root</span> /www/wwwroot/www.xxx.xxx; </span><br><span class="line">         <span class="attribute">index</span>  index.html index.htm;</span><br><span class="line">     &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<p>在终端输入<code>nginx -t</code>校验配置文件,如下显示则为校验成功</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-16-10-centos home]# nginx -t</span><br><span class="line">nginx: [warn] conflicting<span class="built_in"> server </span>name <span class="string">"www.***.***"</span> on 0.0.0.0:80, ignored</span><br><span class="line">nginx: the configuration file /www/server/nginx/conf/nginx.conf syntax is ok</span><br><span class="line">nginx: configuration file /www/server/nginx/conf/nginx.conf test is successful</span><br></pre></td></tr></table></figure>

<p>重新载入配置</p>
<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">nginx -s reload</span></span><br></pre></td></tr></table></figure>

<p>重启<code>nginx</code></p>
<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">service nginx restart</span></span><br></pre></td></tr></table></figure>
<p>这样我们就可以在浏览器中使用<code>https</code>协议访问我们的网站，例如<code>https://www.xxx.xxx</code>,不过还是有一点不方便，因为需要手动加上<code>https</code>,所以我们可以通过修改<code>nginx</code>的配置文件，实现<code>HTTP</code> 自动跳转 <code>HTTPS</code>,在配置文件中再添加一个<code>server</code>项，内容如下：</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line"><span class="attribute">listen</span> <span class="number">80</span>;</span><br><span class="line"><span class="comment">#填写绑定证书的域名（根据自己的域名填写）</span></span><br><span class="line"><span class="attribute">server_name</span> xxx.xxxx.com; </span><br><span class="line"><span class="comment">#把http的域名请求转成https</span></span><br><span class="line"><span class="attribute">return</span> <span class="number">301</span> https://<span class="variable">$host</span><span class="variable">$request_uri</span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Nginx下部署多个项目"><a href="#Nginx下部署多个项目" class="headerlink" title="Nginx下部署多个项目"></a>Nginx下部署多个项目</h4><ol>
<li>通过域名+路径</li>
</ol>
<p>我这里的站点根目录是<code>/www/wwwroot/www.laj.cool/</code>,在只部署一个项目的情况下，直接把项目文件放在<code>/www/wwwroot/www.laj.cool/</code>下即可，如果想放置多个项目，可以在根目录下建立多个目录，放置不同的项目，然后通过域名+目录的方式访问不同的项目，首先在站点根目录下新建两个目录<code>mian</code>、<code>test</code></p>
<p><img  referrerpolicy="no-referrer"  src="https://img-blog.csdnimg.cn/20200830204915221.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjIwNTEwMQ==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>修改<code>Nginx</code>的配置文件，配置文件在<code>Nginx</code>的安装目录下，我这里是<code>/www/server/nginx/conf/nginx.conf</code>,具体路径根据自己的安装路径来决定</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">     <span class="comment">#SSL 访问端口号为 443</span></span><br><span class="line">     <span class="attribute">listen</span> <span class="number">443</span> ssl; </span><br><span class="line">     <span class="comment">#填写绑定证书的域名</span></span><br><span class="line">     <span class="attribute">server_name</span> www.laj.cool; </span><br><span class="line">     <span class="comment">#证书文件名称</span></span><br><span class="line">     <span class="attribute">ssl_certificate</span> 1_www.laj.cool_bundle.crt; </span><br><span class="line">     <span class="comment">#私钥文件名称</span></span><br><span class="line">     <span class="attribute">ssl_certificate_key</span> 2_www.laj.cool.key; </span><br><span class="line">     <span class="attribute">ssl_session_timeout</span> <span class="number">5m</span>;</span><br><span class="line">     <span class="comment">#请按照以下协议配置</span></span><br><span class="line">     <span class="attribute">ssl_protocols</span> TLSv1 TLSv1.<span class="number">1</span> TLSv1.<span class="number">2</span>; </span><br><span class="line">     <span class="comment">#请按照以下套件配置，配置加密套件，写法遵循 openssl 标准。</span></span><br><span class="line">     <span class="attribute">ssl_ciphers</span> ECDHE-RSA-AES128-GCM-SHA256:HIGH:!aNULL:!MD5:!RC4:!DHE; </span><br><span class="line">     <span class="attribute">ssl_prefer_server_ciphers</span> <span class="literal">on</span>;</span><br><span class="line">    <span class="comment"># 默认项目</span></span><br><span class="line">     <span class="attribute">location</span> / &#123;</span><br><span class="line">        <span class="comment">#网站主页路径。此路径仅供参考，具体请您按照实际目录操作。</span></span><br><span class="line">         <span class="attribute">root</span> /www/wwwroot/www.laj.cool/main; </span><br><span class="line">         <span class="attribute">index</span>  index.html index.htm;</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="comment"># 第二个项目</span></span><br><span class="line">      <span class="attribute">location</span> /test1 &#123;</span><br><span class="line">        <span class="comment">#网站主页路径。此路径仅供参考，具体请您按照实际目录操作。</span></span><br><span class="line">         <span class="attribute">alias</span> /www/wwwroot/www.laj.cool/test1; </span><br><span class="line">         <span class="attribute">index</span>  index.html index.htm;</span><br><span class="line">     &#125;</span><br><span class="line">      <span class="comment"># 第三个项目</span></span><br><span class="line">      <span class="attribute">location</span> /test2 &#123;</span><br><span class="line">        <span class="comment">#网站主页路径。此路径仅供参考，具体请您按照实际目录操作。</span></span><br><span class="line">         <span class="attribute">alias</span> /www/wwwroot/www.laj.cool/test2; </span><br><span class="line">         <span class="attribute">index</span>  index.html index.htm;</span><br><span class="line">     &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<p>配置完成后，浏览器输入<code>www.laj.cool</code>就会访问<code>main</code>目录中的项目（默认项目），输入<code>www.laj.cool/test1</code>就会访问<code>test1</code>目录中的项目，输入<code>www.laj.cool/test2</code>就会访问<code>test2</code>目录中的项目</p>
<ol start="2">
<li>通过不同端口号</li>
</ol>
<ul>
<li>点击添加站点<br><img  referrerpolicy="no-referrer"  src="https://img-blog.csdnimg.cn/0b72c70dadec4ab48b86b9261a14d839.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAX-aciOWNiuWwj-WknOabsg==,size_18,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br>这里的域名可以随便填，对，就是随便填，只要格式符合就行</li>
</ul>
<ul>
<li>在网站列表页面，点击网站名称<br><img  referrerpolicy="no-referrer"  src="https://img-blog.csdnimg.cn/d2e1cd0d61614b489b2c45e34a5a5f81.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAX-aciOWNiuWwj-WknOabsg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br>可以看到，下方列表中就是我们刚才填写的域名，在上方输入框中输入<code>服务器公网IP+端口号</code>，然后点击添加</li>
</ul>
<p><em>注意：这里最好使用IP+端口号，因为域名你可能在添加第一个站点的时候已经用过了，这里再使用域名会提示<code>指定域名已经绑定过</code></em>，另外使用端口必须在云服务器放开<br><img  referrerpolicy="no-referrer"  src="https://img-blog.csdnimg.cn/6b61f5e202664491aa993ee65a13ed43.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAX-aciOWNiuWwj-WknOabsg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br>此时就可以删掉<code>www.prot1.com</code>这条记录，在浏览器输入<code>www.xxx.com:83</code>即可访问这个83端口的站点</p>
<h4 id="上传文件至服务器"><a href="#上传文件至服务器" class="headerlink" title="上传文件至服务器"></a>上传文件至服务器</h4><p><code>lrzsz</code>是一款在<code>linux</code>里可代替<code>ftp</code>上传和下载的程序。</p>
<h5 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h5> <figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">## For CentOS/RHEL</span></span><br><span class="line">[root<span class="symbol">@localhost</span> ~]<span class="meta"># yum -y install lrzsz</span></span><br><span class="line">  </span><br><span class="line"><span class="meta">## For Ubuntu</span></span><br><span class="line">[root<span class="symbol">@localhost</span> ~]<span class="meta"># sudo apt-get install lrzsz</span></span><br></pre></td></tr></table></figure>

<h5 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h5><p>在<code>SSH</code>命令面板内：</p>
<ul>
<li><p>输入<code>sz 文件路径</code> 回车，会出现弹窗，选择存储路径,可以将服务器文件下载至本地</p>
</li>
<li><p>输入<code>rz</code> 回车，会出现弹窗，选择要发送的文件，不能发送文件夹，如果想发送文件夹，可以先将文件夹压缩为一个文件，然后再发送，可以将本地文件发送至服务器</p>
</li>
</ul>
<p>为了便于记忆：</p>
<ul>
<li><p>sz中的s意为send（发送），告诉客户端，我（服务器）要发送文件 send to cilent，就等同于客户端在下载。</p>
</li>
<li><p>rz中的r意为received（接收），告诉客户端，我（服务器）要接收文件 received by cilent，就等同于客户端在上传。</p>
</li>
</ul>

    </div>

    
    
    
        <div class="reward-container">
  <div>坚持手敲原创，您的支持将鼓励我继续创作,有钱的捧个钱场，没钱的捧个人场，谢谢大家！</div>
  <button onclick="var qr = document.getElementById('qr'); qr.style.display = (qr.style.display === 'none') ? 'block' : 'none';">
    鼓励一下
  </button>
  <div id="qr" style="display: none;">
      
      <div style="display: inline-block;">
        <img  referrerpolicy="no-referrer"  src="/images/wechat.png" alt="silence1018 微信">
        <p>微信</p>
      </div>
      
      <div style="display: inline-block;">
        <img  referrerpolicy="no-referrer"  src="/images/ali.jpg" alt="silence1018 支付宝">
        <p>支付宝</p>
      </div>
      
      <div style="display: inline-block;">
        <img  referrerpolicy="no-referrer"  src="/images/gzh.png" alt="silence1018 关注我的公众号">
        <p>关注我的公众号</p>
      </div>

  </div>
</div>


      <footer class="post-footer">

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2023/07/18/%E6%B5%8B%E8%AF%95%E6%96%87%E4%BB%B6/" rel="prev" title="测试文件">
      <i class="fa fa-chevron-left"></i> 测试文件
    </a></div>
      <div class="post-nav-item"></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-4"><a class="nav-link" href="#域名解析"><span class="nav-number">1.</span> <span class="nav-text">域名解析</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#服务器配置"><span class="nav-number">2.</span> <span class="nav-text">服务器配置</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#修改实例密码"><span class="nav-number">2.1.</span> <span class="nav-text">修改实例密码</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#安全组配置"><span class="nav-number">2.2.</span> <span class="nav-text">安全组配置</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#使用Xshell连接服务器"><span class="nav-number">3.</span> <span class="nav-text">使用Xshell连接服务器</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#安装宝塔面板"><span class="nav-number">4.</span> <span class="nav-text">安装宝塔面板</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#宝塔配置"><span class="nav-number">5.</span> <span class="nav-text">宝塔配置</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#添加站点"><span class="nav-number">5.1.</span> <span class="nav-text">添加站点</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#面板设置"><span class="nav-number">5.2.</span> <span class="nav-text">面板设置</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#宝塔面板访问地址、账号、密码找回及修改"><span class="nav-number">6.</span> <span class="nav-text">宝塔面板访问地址、账号、密码找回及修改</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#网站访问-默认端口80"><span class="nav-number">7.</span> <span class="nav-text">网站访问(默认端口80)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#FPT功能"><span class="nav-number">8.</span> <span class="nav-text">FPT功能</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#mysql和phpmyadmin"><span class="nav-number">9.</span> <span class="nav-text">mysql和phpmyadmin</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#配置SSL证书"><span class="nav-number">10.</span> <span class="nav-text">配置SSL证书</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#申请免费SSL证书"><span class="nav-number">10.1.</span> <span class="nav-text">申请免费SSL证书</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#安装SSL证书"><span class="nav-number">10.2.</span> <span class="nav-text">安装SSL证书</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Nginx下部署多个项目"><span class="nav-number">11.</span> <span class="nav-text">Nginx下部署多个项目</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#上传文件至服务器"><span class="nav-number">12.</span> <span class="nav-text">上传文件至服务器</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#安装"><span class="nav-number">12.1.</span> <span class="nav-text">安装</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#使用"><span class="nav-number">12.2.</span> <span class="nav-text">使用</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img  referrerpolicy="no-referrer"  class="site-author-image" itemprop="image" alt="silence1018"
      src="/images/logo.png">
  <p class="site-author-name" itemprop="name">silence1018</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">9</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<!--
<div>
  
      <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
      <span id="busuanzi_container_site_pv">访问总量：<span id="busuanzi_value_site_pv"></span>次</span>
      <span class="post-meta-divider">|</span>
      <span id="busuanzi_container_site_uv">访问人数：<span id="busuanzi_value_site_uv"></span>人</span>
  
</div>访问统计-->





<div class="copyright">
  <!--
  
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">silence1018</span>
  -->

  <!--字数统计-->
  <div>
      <span class="post-meta-item-icon">
        <i class="fa fa-chart-area"></i>
      </span>
        <span class="post-meta-item-text">站点总字数：</span>
      <span title="站点总字数">40k</span>
      <span class="post-meta-divider">|</span>
      <span class="post-meta-item-icon">
        <i class="fa fa-coffee"></i>
      </span>
        <span class="post-meta-item-text">站点阅读时长 &asymp;</span>
      <span title="站点阅读时长">36 分钟</span>
  </div>
</div>
  <!--运行时间统计-->
  <div>
    
    <span id="timeDate">载入天数...</span><span id="times">载入时分秒...</span>
    <script>
        var now = new Date(); 
        function createtime() { 
            var grt= new Date("05/02/2020 14:38:00");//在此处修改你的建站时间月/日/年
            now.setTime(now.getTime()+250); 
            days = (now - grt ) / 1000 / 60 / 60 / 24; dnum = Math.floor(days); 
            hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum); hnum = Math.floor(hours); 
            if(String(hnum).length ==1 ){hnum = "0" + hnum;} minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum); 
            mnum = Math.floor(minutes); if(String(mnum).length ==1 ){mnum = "0" + mnum;} 
            seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum); 
            snum = Math.round(seconds); if(String(snum).length ==1 ){snum = "0" + snum;} 
            document.getElementById("timeDate").innerHTML = "本站已安全运行 "+dnum+" 天 "; 
            document.getElementById("times").innerHTML = hnum + " 小时 " + mnum + " 分 " + snum + " 秒"; 
        } 
    setInterval("createtime()",250);
    </script>
  </div>

<!--
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>
-->

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

  <!-- 粒子线条背景 -->
  
  <script type="text/javascript" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js">
  </script>
  
</body>
</html>
